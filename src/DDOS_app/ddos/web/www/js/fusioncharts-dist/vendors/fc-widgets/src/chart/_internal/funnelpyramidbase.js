import{pluckNumber}from'../../../../fc-core/src/lib';import CommonSpaceManager from'../../../../fc-charts/src/chart/_internal/commonspacemanager';import*as defaultPaletteOptions from'../../../../fc-charts/src/_internal/color-utils/chart-palette-colors';import datasetFactory from'../../../../fc-charts/src/factories/singleseries-dataset';import legendItemFactory from'../../../../fc-charts/src/factories/legend';import{_manageLegendSpace}from'../../../../fc-charts/src/chart/_internal/legend-spacemanager';class FunnelPyramidBase extends CommonSpaceManager{static getName(){return'FunnelPyramidBase'}constructor(){super(),this.showRTvalue=!1,this.canvasPadding=!1,this.sliceOnLegendClick=!0,this.defaultPlotShadow=1,this.subTitleFontSizeExtender=0,this.tooltippadding=3,this.defaultPaletteOptions=defaultPaletteOptions,this.drawAnnotations=!0,this.isDataLabelBold=!1,this.dontShowLegendByDefault=!0,this.formatnumberscale=1,this.alignCaptionWithCanvas=0,this.registerFactory('dataset',datasetFactory,['vCanvas','legend']),this.registerFactory('legend',legendItemFactory)}__setDefaultConfig(){super.__setDefaultConfig();let a=this.config;a.showRTvalue=!1,a.canvasPadding=!1,a.sliceOnLegendClick=!0,a.defaultPlotShadow=1,a.subTitleFontSizeExtender=0,a.tooltippadding=3,a.defaultPaletteOptions=defaultPaletteOptions,a.drawAnnotations=!0,a.isDataLabelBold=!1,a.dontShowLegendByDefault=!0,a.alignCaptionWithCanvas=0,a.formatnumberscale=1,a.isSingleSeries=!0,a.hasLegend=!0,a.decimals=2,a.defaultDatasetType='funnelpyramidbaseds',a.skipCanvasDrawing=!0}parseChartAttr(a){super.parseChartAttr(a);let b=this,c=b.getFromEnv('chart-attrib');b.config.showLegend=pluckNumber(c.showlegend,0)}_createLayers(){super._createLayers();let a=this.getFromEnv('animationManager');this.getChildContainer('legendGroup')||this.addChildContainer('legendGroup',a.setAnimation({el:'group',attr:{name:'legend'},component:this,container:this.getContainer('parentgroup'),label:'group'}))}_checkInvalidSpecificData(){var a,b,c,d=this,e=d.getFromEnv('dataSource'),f=0,g=0,h=e.data;if(!h)return!0;for(b=h.length,a=0;a<b;a++)c=+h[a].value,f+=isNaN(c)||0!==c?0:1,g+=isNaN(c)?1:0;if(f+g>=b)return!0}_manageLegendSpace(){_manageLegendSpace.call(this)}getName(){return'FunnelPyramidBase'}}export default FunnelPyramidBase;