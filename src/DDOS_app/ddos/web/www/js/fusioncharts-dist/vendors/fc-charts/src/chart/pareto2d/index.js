import MSDyBaseCartesian from'../_internal/msdybasecartesian';import{ParetoColumnDataset}from'../../dataset/pareto';import{ParetoLineDataset}from'../../dataset/paretoline';import axisFactory from'../../factories/pareto-axis';import{preDefStr}from'../../../../fc-core/src/lib';import datasetFactory from'../../factories/pareto-dataset';let NINETYSTRING=preDefStr.NINETYSTRING;function _setCategories(){var a,b,c=this,d=c.getFromEnv('dataSource'),e=d.dataset,f=c.getFromEnv('number-formatter'),g=c.getChildren('xAxis'),h=d.data||e&&e[0].data||[],j=[],k=h.length,l={};for(b=k-1;0<=b;b--)a=h[b],'true'===a.vline||'1'===a.vline||1===a.vline||!0===a.vline?(l[b]=a,h.splice(b,1)):null===f.getCleanValue(a.value,!0)&&h.splice(b,1);for(b in h.sort(function(c,a){return f.getCleanValue(a.value,!0)-f.getCleanValue(c.value,!0)}),j=h.slice(),l)j.splice(b,0,l[b]);g[0].setTickValues(j)}class Pareto2D extends MSDyBaseCartesian{static getName(){return'Pareto2D'}constructor(){super(),this.isPercentage=!0,this.registerFactory('axis',axisFactory,['canvas']),this.registerFactory('dataset',datasetFactory,['vCanvas'])}getName(){return'Pareto2D'}__setDefaultConfig(){super.__setDefaultConfig();let a=this.config;a.singleseries=!0,a.hasLegend=!1,a.defaultDatasetType='column',a.plotfillalpha=NINETYSTRING,a.enablemousetracking=!0}_setCategories(){_setCategories.call(this)}_checkInvalidSpecificData(){let a=this.getFromEnv('dataSource'),b=a.data;if(!b||!b.length)return!0}getDSdef(a){return'column'===a?ParetoColumnDataset:ParetoLineDataset}getDSGroupdef(){}}export default Pareto2D;export{_setCategories};