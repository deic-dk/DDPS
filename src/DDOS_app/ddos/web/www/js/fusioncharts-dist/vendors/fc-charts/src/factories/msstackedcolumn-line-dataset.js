import msStackedColumnDatasetFactory from'./msstackedcolumn-dataset';import{datasetFactory}from'../../../fc-core/src/lib';let removeLineSet=function(a){let b,c=a.getChildren('dataset_line');for(b=c&&c.length-1;-1<b;b--)c[b].remove()};export default function(a){let b,c,d=a.getFromEnv('dataSource'),e=d.dataset,f=d.lineset,g=a.getChildren('canvas')[0],h=g.getChildren('vCanvas')[1];return e||0!==f.length?void(msStackedColumnDatasetFactory(a),b=a.config._lastDatasetIndex+1,f&&f.length?(c=Array(f.length).fill(b).map((a,b)=>a+b),datasetFactory(h,a.getDSdef('line'),'dataset_line',f.length,f,c)):removeLineSet(h)):void a.setChartMessage()}