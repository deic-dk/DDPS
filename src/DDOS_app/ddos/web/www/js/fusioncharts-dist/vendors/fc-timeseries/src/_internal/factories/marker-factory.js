import FlagMarker from'./../components/data-marker/flag-marker';import stringHasContent from'../../../../fc-utils/src/type/string-has-content';import arrayHasContent from'../../../../fc-utils/src/type/array-has-content';import equals from'ramda/es/equals';import isObject from'../../../../fc-utils/src/type/is-object';export default function(a){let b,c,d=a.getFromEnv('dataSource'),e=a.config.series,{measures:f,seriesInfo:j={},enableMarkers:g,visibility:h}=a.config,i=[];g&&(b=d.datamarker)&&(b.forEach(a=>{let{value:b,series:c}=a,d=!0;if(b&&(stringHasContent(b)&&(b=[b]),arrayHasContent(b)&&stringHasContent(b[0])&&(d=equals(b,f))),isObject(c)){let a,b=Object.keys(c),e=b.length;for(;d&&e--;)a=b[e],stringHasContent(c[a])&&c[a]!==j[a]&&(d=!1)}d&&(i.push(a),a.seriesname=e)}),0!==i.length&&(c=a.attachChild(FlagMarker,'flagMarker'),c.configure({data:i,visibility:h})))}