import{componentFactory}from'../../../fc-core/src/lib';import NumericAxis from'../../../fc-core/src/axis/numeric';export default function(a){let b,c,d,e,f,g=a.getChildren('canvas'),h=g[0],i=g[1],j=a.config.showVolumeChart,k={zoomable:!0,pannable:!0},l=h.getChildren('axisRefVisualCartesian')[0],m=()=>l.asyncDraw(),n=()=>c.asyncDraw();b=a._feedAxesRawData(),componentFactory(a,NumericAxis,'yAxis',j?2:1,b.yAxisConfigure),componentFactory(a,NumericAxis,'xAxis',1,b.xAxisConfigure),e=a.getChildren('yAxis')[0],d=a.getChildren('yAxis')[1],e.setAxisConfig({relativeAxis:d}),d&&d.setAxisConfig({relativeAxis:e}),f=a.getChildren('xAxis')[0],e.setLinkedItem('canvas',h),f.setLinkedItem('canvas',h),l.setLinkedItem(e.getId(),e),l.setLinkedItem(f.getId(),f),l.addExtEventListener('visiblerangeset',m,e),l.addExtEventListener('visiblerangeset',m,f),h.attachAxis(f,!1,a.zoomX?k:{}),h.attachAxis(e,!0,a.zoomY?k:{}),j&&(c=i.getChildren('axisRefVisualCartesian')[0],i.attachAxis(f,!1,a.zoomX?k:{}),d.setLinkedItem('canvas',i),c.setLinkedItem(d.getId(),d),c.setLinkedItem(f.getId(),f),c.addExtEventListener('visiblerangeset',n,d),c.addExtEventListener('visiblerangeset',n,f),i.attachAxis(d,!0,a.zoomY?k:{})),a._setCategories()}